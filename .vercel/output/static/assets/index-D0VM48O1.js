import{r as a,j as u,G as N,K as H,E as $,a6 as q,F as J,I,T as Q,z as W,D as X,a7 as Z}from"./index-BhShMgCK.js";var ee="Separator",D="horizontal",te=["horizontal","vertical"],G=a.forwardRef((e,o)=>{const{decorative:r,orientation:t=D,...b}=e,d=oe(t)?t:D,F=r?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return u.jsx(N.div,{"data-orientation":d,...F,...b,ref:o})});G.displayName=ee;function oe(e){return te.includes(e)}var re=G;function Ie({className:e,orientation:o="horizontal",decorative:r=!0,...t}){return u.jsx(re,{"data-slot":"separator",decorative:r,orientation:o,className:H("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...t})}var _="rovingFocusGroup.onEntryFocus",ne={bubbles:!1,cancelable:!0},R="RovingFocusGroup",[y,j,ae]=q(R),[se,be]=$(R,[ae]),[ce,ie]=se(R),K=a.forwardRef((e,o)=>u.jsx(y.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(y.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(ue,{...e,ref:o})})}));K.displayName=R;var ue=a.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:r,orientation:t,loop:b=!1,dir:d,currentTabStopId:v,defaultCurrentTabStopId:F,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:c=!1,...g}=e,E=a.useRef(null),T=Q(o,E),S=W(d),[w,n]=X({prop:v,defaultProp:F??null,onChange:h,caller:R}),[l,C]=a.useState(!1),i=Z(m),f=j(r),x=a.useRef(!1),[U,O]=a.useState(0);return a.useEffect(()=>{const s=E.current;if(s)return s.addEventListener(_,i),()=>s.removeEventListener(_,i)},[i]),u.jsx(ce,{scope:r,orientation:t,dir:S,loop:b,currentTabStopId:w,onItemFocus:a.useCallback(s=>n(s),[n]),onItemShiftTab:a.useCallback(()=>C(!0),[]),onFocusableItemAdd:a.useCallback(()=>O(s=>s+1),[]),onFocusableItemRemove:a.useCallback(()=>O(s=>s-1),[]),children:u.jsx(N.div,{tabIndex:l||U===0?-1:0,"data-orientation":t,...g,ref:T,style:{outline:"none",...e.style},onMouseDown:I(e.onMouseDown,()=>{x.current=!0}),onFocus:I(e.onFocus,s=>{const z=!x.current;if(s.target===s.currentTarget&&z&&!l){const P=new CustomEvent(_,ne);if(s.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=f().filter(p=>p.focusable),B=A.find(p=>p.active),V=A.find(p=>p.id===w),Y=[B,V,...A].filter(Boolean).map(p=>p.ref.current);L(Y,c)}}x.current=!1}),onBlur:I(e.onBlur,()=>C(!1))})})}),M="RovingFocusGroupItem",k=a.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:r,focusable:t=!0,active:b=!1,tabStopId:d,children:v,...F}=e,h=J(),m=d||h,c=ie(M,r),g=c.currentTabStopId===m,E=j(r),{onFocusableItemAdd:T,onFocusableItemRemove:S,currentTabStopId:w}=c;return a.useEffect(()=>{if(t)return T(),()=>S()},[t,T,S]),u.jsx(y.ItemSlot,{scope:r,id:m,focusable:t,active:b,children:u.jsx(N.span,{tabIndex:g?0:-1,"data-orientation":c.orientation,...F,ref:o,onMouseDown:I(e.onMouseDown,n=>{t?c.onItemFocus(m):n.preventDefault()}),onFocus:I(e.onFocus,()=>c.onItemFocus(m)),onKeyDown:I(e.onKeyDown,n=>{if(n.key==="Tab"&&n.shiftKey){c.onItemShiftTab();return}if(n.target!==n.currentTarget)return;const l=de(n,c.orientation,c.dir);if(l!==void 0){if(n.metaKey||n.ctrlKey||n.altKey||n.shiftKey)return;n.preventDefault();let i=E().filter(f=>f.focusable).map(f=>f.ref.current);if(l==="last")i.reverse();else if(l==="prev"||l==="next"){l==="prev"&&i.reverse();const f=i.indexOf(n.currentTarget);i=c.loop?pe(i,f+1):i.slice(f+1)}setTimeout(()=>L(i))}}),children:typeof v=="function"?v({isCurrentTabStop:g,hasTabStop:w!=null}):v})})});k.displayName=M;var le={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fe(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function de(e,o,r){const t=fe(e.key,r);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(t))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(t)))return le[t]}function L(e,o=!1){const r=document.activeElement;for(const t of e)if(t===r||(t.focus({preventScroll:o}),document.activeElement!==r))return}function pe(e,o){return e.map((r,t)=>e[(o+t)%e.length])}var Fe=K,Re=k;export{Re as I,Fe as R,Ie as S,be as c};
